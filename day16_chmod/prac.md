

[TOC]



# chmod

### 命令介绍

>该命令是linux系统下用来更改文件或者目录的权限的命令



- 命令格式

>数字法:`chmod [-fvR] mode file`
>
>文字法:`chmod [who]  [+|-|=] [mode] filename`。
>
>`who`有4中情况
>
>- u 代表 当前的用户
>- g 代表 当前的群组
>- o 代表 非当前用户或群组
>- a 代表 所有用户和群组织
>
>`[+|-]表示赋予权限和解除权限.=会将之前权限删除,用新权限覆盖`



- 命令功能

>chmod命令可以更改指定的file或者目录的权限(读、写、可执行)



- 依赖知识

> - 权限
>
>   linux下.文件权限分为读(read)、写(write)、可执行权限(excute)。
>
>   所以一个文件的权限用字符串表示为rwx，并且用1和0来表示有没有该权限。
>
>   如110表示r=1,w=1,x=0。既有读、写权限。但没有可执行权限。
>
> - 用户和用户组
>
>   权限既权利，是和人或者组织绑定。所以在linux下一个文件的权限声明需要声明2个关系人，一个组织。
>
>   2个关系人: 用户自身账户、其他人。 一个组织: 同组织用户(同群组)
>
>   按顺序表示为为`[文件类型][用户账户][同群组][其他用户]`。
>
>   ​
>
>   例如用ll查看file.txt文件
>
>   `-rw-r--r--  1 sixleaves  staff     0B  4 26 10:34 file.txt`
>
>   注意其中`-rw-r--r--`第一位表示是文件(`-`)还是目录(`d`).后9位, 每三位表示一个用户的权限。
>
>   第一个表示自身帐号，既sixleaves的权限为110，换算成整数既6. 第二个表示root账户的权限，只有可读权限，整数表示就是4.第三个表示其他人，也是只有可读，表示成整数是4.
>
> - mode值
>
>   - 数字法:根据以上权限和用户的知识，mode可以用整数表示比如777，表示对于自身帐号、root用户、其他人，该文件都是完全可以读写，可执行。(r =4，w=2，x=1)
>   - 文字法:文字法的mode值是r或w或x

### 今日练习

- 用文字表示法, 同时修改不同用户权限，给temp2018.log增加当前用户和用户组可写权限，并去除其他人的可执行权限

  >​
  >
  >结果: `-rw-rw-r--  1 sixleaves  staff     0B  4 26 14:34 temp2018.log`

  ​


- 用数字表示法, 更改test文件夹和其所有文件为000，并尝试删除它

  > ​
  >
  > 结果:`d---------  3 sixleaves  staff    96B  4 26 10:37 test`


- 用文字表示法, 增加log2018.log所有用户组可执行权限

  >​
  >
  >结果: `-rwxr-xr-x  1 sixleaves  staff     0B  4 26 14:25 log2018.log`

- 用文字表示法, 去除log2018.log的所有用户的可执行权限

  >​
  >
  >结果: `-rw-r-xr--  1 sixleaves  staff     0B  4 26 14:25 log2018.log`

  ​

### 主要参数

- `a`  

  > 表示所有用户和用户组

- `u`

  > 表示当前用户

- `g`

  > 表示当前用户组

- `o`

  > 表示其他用户


### OSX使用

- OSX下c参数无效，在linux下表示发生改变时，报告处理信息
- OSX下还支持其他参数, 配合-R使用，自行查阅

### 使用注意

- 文字表示法比较容易阅读，可维护性比较高，推荐使用



### 答案

1.`chmod ug+w,o-x temp2018.log`

2.`chmod -R 000 test`

3.`chmod g+x log2018.log`

4.`chmod g-x log2018.log`

